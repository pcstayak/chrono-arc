### User Story 6.2

**Number:** `6.2`
**ID:** `BA-US-ui-lockdown-during-attack`
**Role:** `player`
**Story:** `As a player, I want the UI to lock all tabs except the game interface and hide sensitive event information when an event is under attack so that I cannot cheat by looking up answers and must rely on my memory.`

**Context / Background:**
- When an event is attacked, the player must defend it by answering quiz questions
- To maintain game integrity and educational value, the player should not be able to "cheat" by reading event details during the quiz
- All tabs/sections of the event card (e.g., Overview, Details, Timeline, etc.) should be disabled/locked
- Only the Game section should remain accessible during defense
- This creates focus and tension, reinforcing that this is a critical game moment
- Educational goal: Encourage retrieval practice (recalling facts from memory) rather than just re-reading
- Once defense is complete (success or failure), normal UI access should restore

**Functional Requirements:**
1. Detect when an event is in "attacked" status
2. Disable all tab navigation controls for the event card except the Game tab
3. Hide or redact sensitive event information that could be used to answer quiz questions
4. Keep the Game tab/section fully accessible and functional
5. Display a clear visual indicator that the UI is locked (e.g., grayed-out tabs, lock icon, message)
6. Restore full UI access when event status returns to "safe" or "threatened"
7. Prevent any workarounds (e.g., browser back button, direct URL manipulation) from accessing locked content

**Non-Functional / UX Requirements:**
- Locked tabs should be visually distinct (grayed out, with clear "locked" styling)
- Attempting to click a locked tab should show a brief message: "Complete the defense first" or similar
- The message should be kid-friendly and not anxiety-inducing
- Lockdown should engage immediately when status changes to "attacked"
- UI must remain responsive and not feel "broken" when locked
- Must work on both desktop (click) and mobile (tap) interactions
- Hidden information should not be accessible via browser dev tools (basic obfuscation, not security-critical)

**Data & State:**
- Inputs:
  - Event security status (attacked or not)
  - List of tabs/sections in the event card
  - Identification of "sensitive" content fields (facts, dates, descriptions, images, etc.)
- Outputs:
  - Locked/unlocked state for each tab
  - Visible/hidden state for sensitive content
  - Visual feedback to player about lockdown status
- State rules:
  - Lockdown engages only when status is "attacked"
  - Lockdown releases immediately when status changes to "safe" or "threatened"
  - If player was viewing a locked tab when lockdown engaged, switch to Game tab automatically
  - Lockdown state is per-event (other events' cards are unaffected)

**Validation & Edge Cases:**
- Event card is opened for the first time while event is already "attacked": lockdown should be active immediately
- Player is viewing the Overview tab when attack begins: auto-switch to Game tab and lock others
- Player tries to use keyboard shortcuts to navigate tabs during lockdown: shortcuts should be disabled or ignored
- Browser back button pressed during lockdown: should not allow navigation to locked content
- Event status changes from "attacked" to "safe" while player is in Game tab: unlock all tabs and allow navigation
- Multiple events are attacked simultaneously: each event card manages its own lockdown independently
- Sensitive content is embedded in the Game section: should remain visible if necessary for game UX, or handle carefully

**Assumptions:**
- The event card has a tab-based or section-based layout
- Each tab can be individually enabled/disabled via component props or state
- Sensitive content can be identified programmatically (e.g., tagged fields or specific component types)
- The Game tab/section is clearly designated and can be excluded from lockdown
- Status changes are reactive and trigger UI updates automatically
- The quiz game does not need access to the full event data (only what is passed to it explicitly)
- Players cannot open multiple instances of the same event card to bypass lockdown

**Out of Scope (for this story):**
- Implementing the quiz game content itself (story 6.3)
- Determining what constitutes "sensitive" content (assume all event details are sensitive)
- Advanced anti-cheat measures (e.g., detecting external browser tabs, preventing screenshots)
- Saving partial progress if player closes the card mid-defense
- Providing hints or help during lockdown
- Customizable lockdown behavior (e.g., admin settings for what is locked)

**Acceptance Criteria (Gherkin-style):**
- Given an event is in "attacked" status, when I view the event card, then all tabs except the Game tab are visually locked and unclickable
- Given an event is in "attacked" status, when I attempt to click a locked tab, then I see a brief message explaining that I must complete the defense first
- Given an event is in "attacked" status, when I view any section, then sensitive event information (facts, dates, descriptions) is hidden or redacted
- Given I am viewing a non-Game tab when an event becomes "attacked", when the lockdown engages, then the UI automatically switches to the Game tab
- Given an event's status changes from "attacked" to "safe", when I view the event card, then all tabs become unlocked and accessible again
- Given an event is in "attacked" status, when I try to use browser navigation (back button, URL change), then I cannot access locked content
- Given the UI is locked down, when I interact with the Game section, then it remains fully functional and responsive
